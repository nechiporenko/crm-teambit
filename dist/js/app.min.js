/*!
 * crm-teambit
 * @author: avakandy
 * @version: 0.0.1
 * Copyright 2016.
 */

"use strict";var Modal=function(){var a=function(a){this.modalId=a,this.overlayClass="b-modal__overlay",this.overlayId="m_ovrl",this.activeClass="active",this.closeClass="b-modal__close",this.modal=document.getElementById(this.modalId),this.button=this.modal.getElementsByClassName(this.closeClass)[0].addEventListener("click",this.close.bind(this))};return a.prototype.addOverlay=function(){var a=document.createElement("div");a.className=this.overlayClass,a.setAttribute("id",this.overlayId),document.body.appendChild(a),a.addEventListener("click",this.close.bind(this))},a.prototype.center=function(){function a(a){var b=a.offsetHeight;return b+=parseInt(f.marginTop)+parseInt(f.marginBottom)}function b(a){var b=a.offsetWidth;return b+=parseInt(f.marginLeft)+parseInt(f.marginRight)}var c,d,e=document.body.parentElement,f=getComputedStyle(this.modal);c=Math.max(e.offsetHeight-a(this.modal),0)/2,d=Math.max(e.offsetWidth-b(this.modal),0)/2,this.modal.style.top=c+window.pageYOffset+"px",this.modal.style.left=d+window.pageXOffset+"px"},a.prototype.open=function(){this.addOverlay(),this.modal.style.visibility="hidden",this.modal.style.display="block",this.center(),window.addEventListener("resize",this.center.bind(this)),this.modal.style.visibility="visible"},a.prototype.close=function(){var a=document.getElementById(this.overlayId);a.removeEventListener("click",this.close),a.parentElement.removeChild(a),this.modal.style.display="none",window.removeEventListener("resize",this.center)},a}();!function(){var a=document.querySelectorAll("[data-modal]");if(a.length>0){var b={};Array.prototype.forEach.call(a,function(a,c){var d=a.getAttribute("data-modal");b[c]=new Modal(d),a.addEventListener("click",b[c].open.bind(b[c]))})}}();